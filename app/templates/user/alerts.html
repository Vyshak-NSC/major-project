{% extends 'base.html' %}

{% block csscontent %}
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<link rel="stylesheet" href="{{ url_for('static', filename='/css/user/alert.css')}}" >
{% endblock %}

{% block content %}
<h1 id="disp"></h1>
<!-- Main Content Container -->
<div class="container">
    <!-- Top Row: Map and Sensor Details -->
    <div class="top-row">
        <!-- Map Section -->
        <div class="map-container glass">
            <div id="map"></div>
        </div>

        <!-- Sensor Details Section -->
        <div id="sensor-details" class="glass">
            <h2>Sensor Details</h2>
            <table>
                <thead>
                    <tr>
                        <th>Sensor ID</th>
                        <th>Status</th>
                        <th>Rainfall (mm)</th>
                        <th>Forecasted Rainfall (mm)</th>
                        <th>Soil Saturation (%)</th>
                        <th>Slope (Â°)</th>
                        <th>Seismic Activity</th>
                        <th>Soil Type</th>
                        <th>Risk Level</th>
                        <th>Predicted Landslide Time</th>
                    </tr>
                </thead>
                <tbody id="sensor-table-body">
                    <!-- Sensor data will be populated here -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Bottom Row: Alerts and Evacuation Routes -->
    <div class="bottom-row">
        <!-- Alerts Section -->
        <div id="alert-section" class="glass">
            <h2>Alerts</h2>
            <div id="alert-box">
                <p id="alert-message">No alerts currently.</p>
            </div>
            <audio id="alert-sound" src="{{ url_for('static',filename='alert-sound.mp3') }}"></audio>
        </div>

        <!-- Evacuation Routes Section -->
        <div id="evacuation-routes" class="glass">
            <h2>Evacuation Routes</h2>
            <div id="route-info">
                <p><strong>Status:</strong> Calculating...</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block jscontent %}
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="{{ url_for('static', filename='js/alert.js')}}"></script>
{% endblock %}